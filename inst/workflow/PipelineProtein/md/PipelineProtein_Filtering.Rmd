---
title: "Workflow Protein: Filtering"
abstract: >
  This page describes the computations done with Filtering.

output:
    BiocStyle::html_document:
        highlight: tango
        toc: false
        number_sections: FALSE
date: 30 mai 2024
link-citations: true
---
# Filtering
The `Filtering` step aims to remove proteins irrelevant to the analysis. Some proteins may correspond to contaminants or decoy sequences, while others may contain too many missing values to be reliably quantified. Filtering is performed using the quantitative data tags (`Cell metadata filtering`) or the metadata, which include all non-quantitative variables from the original dataset (`Variable filtering`). 

This step is based on defining queries based on user-selected parameters, such as the number of missing values within or across biological conditions, contaminant annotations, or decoy flags, to either retain or discard selected proteins. Multiple filtering steps can be applied sequentially, with each filter operating on the dataset produced by the previous one.

***

### Cell metadata filtering
The `Cell metadata filtering` step uses the quantitative data tags, which allows to filter proteins base on the type of value (e.g. missing values). For more information about these tag and how they are created, please refer to the FAQ. 

The left side of the interface allows you to select the settings for the filters to be created.
The table in the middle summarizes all the filters applied, as well as the number of proteins removed by each of them. Each filter is applied using the data resulting from the previous query. 
When a tag is selected, graphs describing the distribution of values associated with this tag in the different samples and conditions appear below the table.

##### Details of settings :
###### **`Tag tree`**
At first, the only parameter shown is the tag tree. Click on it to open a window where you can select the tags to use for the desired query. At least one tag must be selected to access the other settings.
The buttons at the top of the window allow you to choose between selecting a single tag at a time, an entire branch at once, or multiple tags regardless of their branch. Then click on the button to the left of each tag you want to select.
To confirm your selection, click on `Validate & close`.

###### **`Type of filter operation`**
This allows to choose whether the lines identified by the query are to be kept or deleted. 
Either `Delete` to remove the proteins identified, or `Keep` to keep them and instead removes all those that do not match the query.

###### **`Scope`**
This parameter allows you to define how to take into account the tags chosen within a given protein.
The possible options are as follows:

- `None` : No filter is applied, the quantitative data is left unchanged. No need to validate, directly go to next step.
- `Whole Line` : Proteins containing only the selected tags. As no other parameters are needed for this option, no additional settings are displayed upon selection.
- `Whole Matrix` : Takes into account tags across all conditions for a given protein.
- `For every condition` : ...
- `At least one condition` : ...



***

### Variable filtering


